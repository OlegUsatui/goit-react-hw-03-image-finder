{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/App.module.css","components/Button/Button.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Modal/Modal.js","components/Searchbar/Searchbar.js","utils/request.js","components/App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Button","text","onLoadMoreClick","type","className","css","onClick","ImageGalleryItem","image","openModal","largeImageURL","src","webformatURL","alt","ImageGalleryItemImage","id","ImageGallery","gallery","map","Modal","Overlay","e","props","closeModal","name","this","Component","Searchbar","state","value","handleChange","setState","target","toLowerCase","handleSubmit","preventDefault","trim","onSubmit","toast","error","SearchForm","SearchFormButton","SearchFormButtonLabel","SearchFormInput","onChange","autoComplete","autoFocus","placeholder","getImages","images","page","options","url","fetch","then","response","ok","json","Promise","reject","Error","catch","console","log","App","largeImage","searchImage","reqStatus","handleFormSubmit","currentTarget","prevState","_","hits","length","window","scrollTo","top","document","documentElement","scrollHeight","behavior","color","height","width","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.3db2ef72.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1WFuf\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__x8IXS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2GHq0\",\"Modal\":\"Modal_Modal__3SPOE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__hJzbN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__136BQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3v2hB\"};","import css from \"./Button.module.css\";\r\n\r\nconst Button = ({text, onLoadMoreClick}) => {\r\n    return (\r\n        <button type=\"button\" className={css.Button} onClick={onLoadMoreClick}>{text}</button>\r\n    )\r\n};\r\n\r\nexport default Button;","import css from './ImageGalleryItem.module.css';\r\n\r\nexport default function ImageGalleryItem ({image, openModal}) {\r\n    return (\r\n        <li className={css.ImageGalleryItem} onClick={() => openModal(image.largeImageURL)} key={image.id}>\r\n            <img src={image.webformatURL} alt=\"\" className={css.ImageGalleryItemImage} />\r\n        </li>\r\n    );\r\n};\r\n\r\n","import css from './ImageGallery.module.css';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\n\r\nconst ImageGallery = ({ gallery, openModal }) => {\r\n    return (\r\n        <ul className={css.ImageGallery}>\r\n            {gallery.map(image => (\r\n                <ImageGalleryItem image={image} openModal={openModal} />\r\n            ))}\r\n        </ul>\r\n    );\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React, { Component } from 'react';\r\nimport css from './Modal.module.css'\r\n\r\nexport default class Modal extends Component {\r\n    render() {\r\n        return (\r\n            <div className={css.Overlay}  onClick={(e) => {this.props.closeModal(e)} } name=\"overlay\" >\r\n                <div className={css.Modal}>\r\n                    <img src={this.props.image} alt=\"\" />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport css from './Searchbar.module.css';\r\n\r\nexport default class Searchbar extends Component {\r\n    state = {\r\n        value: ''\r\n    };\r\n\r\n    handleChange = (e) => {\r\n        this.setState({ value: e.target.value.toLowerCase() })\r\n    };\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        if (this.state.value.trim() === '') {\r\n            toast.error(\"Введите что нибудь\");\r\n            return;\r\n        }\r\n        this.props.onSubmit(this.state.value);\r\n\r\n        this.setState({ value: '' })\r\n    };\r\n    \r\n    render() {\r\n        return (      \r\n            <header className={css.Searchbar}>\r\n                <form className={css.SearchForm} onSubmit={this.handleSubmit}>\r\n                    <button type=\"submit\" className={css.SearchFormButton}>\r\n                        <span className={css.SearchFormButtonLabel}>Search</span>\r\n                    </button>\r\n\r\n                    <input\r\n                        className={css.SearchFormInput}\r\n                        type=\"text\"\r\n                        value={this.state.value}\r\n                        onChange={this.handleChange}\r\n                        autoComplete=\"off\"\r\n                        autoFocus\r\n                        placeholder=\"Search images and photos\"\r\n                    />\r\n                </form>\r\n            </header>    \r\n        );\r\n    };\r\n};\r\n","const KEY = 'key=22615360-5cbe46b430b53ed17aa097d2d';\r\nconst BASEURL = 'https://pixabay.com/api/'\r\n\r\n\r\nconst getImages = (images, page) => {\r\n    const options = `${KEY}&q=${images}&image_type=photo&orientation=horizontal&page=${page}&per_page=12`;\r\n    const url = `${BASEURL}?${options}`;\r\n    \r\n    return fetch(url).then(response => {\r\n        if (response.ok) {\r\n            return response.json()\r\n        }\r\n        Promise.reject(new Error(\"Нету таких фотографий\"))\r\n    })\r\n        .catch(error => console.log(error))\r\n};\r\n\r\nexport default getImages;","import React, { Component } from 'react';\nimport { toast, ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Loader from \"react-loader-spinner\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport css from \"./App.module.css\"\nimport Button from './Button/Button'\nimport ImageGallery from './ImageGallery/ImageGallery';\nimport ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\nimport Modal from './Modal/Modal';\nimport Searchbar from './Searchbar/Searchbar';\nimport getImages from '../utils/request';\n\n\nexport default class App extends Component {\n  state = {\n    largeImage: null,\n    searchImage: null,\n    gallery: [],\n    page: 1,\n    reqStatus: \"idle\"\n    // idle, pending, resolved, rejected\n  }\n\n  componentDidUpdate(_, prevState) {\n    const { searchImage, page } = this.state;\n    if (prevState.searchImage !== searchImage || prevState.page !== page) {\n      this.setState({ reqStatus: \"pending\" })\n      getImages(searchImage, page).then(({ hits }) => {\n        if (hits.length === 0) {\n          this.setState({ reqStatus: \"rejected\" })\n          toast.error('Нету таких изображений');\n        } else {\n          if (prevState && prevState.searchImage === this.state.searchImage) {\n            this.setState({ gallery: [...prevState.gallery, ...hits], reqStatus: \"resolved\" }, ()=>{window.scrollTo({\n              top: document.documentElement.scrollHeight,\n              behavior: 'smooth',\n            });} );\n            \n          } else { this.setState({ gallery: hits, reqStatus: \"resolved\" }) };      \n        }\n      })\n    }\n  };\n  \n  handleFormSubmit = (searchImage) => {\n    this.setState({ searchImage })\n  };\n\n  openModal = (url) => {\n    this.setState({\n      largeImage: url\n    })\n  };\n\n  closeModal = (e) => {\n    if (e.target === e.currentTarget) {\n      this.setState({\n        largeImage: null\n      })\n    };\n  };\n    \n  onLoadMoreClick = () => {\n  this.setState(prevState => ({\n        page: prevState.page + 1\n      })\n       )\n  \n  };\n\n  render() {\n    return (\n      <div className={css.App}>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        {this.state.reqStatus === \"resolved\" &&\n          <ImageGallery gallery={this.state.gallery} openModal={this.openModal} page={this.state.page} />}\n        {this.state.reqStatus === \"resolved\" && <Button text=\"Load more\" onLoadMoreClick={this.onLoadMoreClick} />}\n        {this.state.reqStatus === \"pending\" && <Loader type=\"Circles\" color=\"#00BFFF\" height={80} width={80} />}\n        <ToastContainer autoClose={2000} />\n        {this.state.largeImage && <Modal closeModal={this.closeModal} image={this.state.largeImage} />}\n      </div>\n    );\n  };\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__ktZ__\",\"SearchForm\":\"Searchbar_SearchForm__2wzSp\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1c621\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__38GG2\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3CKU9\"};"],"sourceRoot":""}