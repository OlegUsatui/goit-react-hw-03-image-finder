{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/App.module.css","components/Button/Button.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.js","components/ImageGallery/ImageGallery.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Modal/Modal.js","components/Searchbar/Searchbar.js","utils/request.js","components/App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Button","text","onLoadMoreClick","type","className","css","onClick","ImageGallery","children","ImageGalleryItem","this","props","images","map","image","openModal","largeImageURL","src","webformatURL","alt","ImageGalleryItemImage","id","Component","Modal","Overlay","e","closeModal","name","Searchbar","state","value","handleChange","setState","target","toLowerCase","handleSubmit","preventDefault","trim","onSubmit","toast","error","SearchForm","SearchFormButton","SearchFormButtonLabel","SearchFormInput","onChange","autoComplete","autoFocus","placeholder","getImages","page","options","url","fetch","then","response","ok","json","Promise","reject","Error","catch","console","log","App","largeImage","searchImage","gallery","reqStatus","handleFormSubmit","currentTarget","prevState","_","hits","length","window","scrollTo","top","document","documentElement","scrollHeight","behavior","color","height","width","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.449c4596.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1WFuf\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__x8IXS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2GHq0\",\"Modal\":\"Modal_Modal__3SPOE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__hJzbN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__136BQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3v2hB\"};","import css from \"./Button.module.css\";\r\n\r\nconst Button = ({text, onLoadMoreClick}) => {\r\n    return (\r\n        <button type=\"button\" className={css.Button} onClick={onLoadMoreClick}>{text}</button>\r\n    )\r\n};\r\n\r\nexport default Button;","import css from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ children }) => {\r\n    return (\r\n    <ul className={css.ImageGallery}>\r\n        {children}\r\n    </ul>\r\n    )\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React, { Component } from 'react';\r\nimport css from './ImageGalleryItem.module.css';\r\n\r\nexport default class ImageGalleryItem extends Component {\r\n    render() {\r\n        return (\r\n            <>\r\n                {this.props.images.map(image => (\r\n                    <li className={css.ImageGalleryItem} onClick={() => this.props.openModal(image.largeImageURL)} key={image.id}>\r\n                        <img src={image.webformatURL} alt=\"\" className={css.ImageGalleryItemImage} />\r\n                    </li>\r\n                ))}\r\n            </>\r\n        );\r\n    };\r\n};\r\n","import React, { Component } from 'react';\r\nimport css from './Modal.module.css'\r\n\r\nexport default class Modal extends Component {\r\n    render() {\r\n        return (\r\n            <div className={css.Overlay}  onClick={(e) => {this.props.closeModal(e)} } name=\"overlay\" >\r\n                <div className={css.Modal}>\r\n                    <img src={this.props.image} alt=\"\" />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport css from './Searchbar.module.css';\r\n\r\nexport default class Searchbar extends Component {\r\n    state = {\r\n        value: ''\r\n    };\r\n\r\n    handleChange = (e) => {\r\n        this.setState({ value: e.target.value.toLowerCase() })\r\n    };\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        if (this.state.value.trim() === '') {\r\n            toast.error(\"Введите что нибудь\");\r\n            return;\r\n        }\r\n\r\n        this.props.onSubmit(this.state.value);\r\n\r\n        this.setState({ value: '' })\r\n    };\r\n    \r\n    render() {\r\n        return (      \r\n            <header className={css.Searchbar}>\r\n                <form className={css.SearchForm} onSubmit={this.handleSubmit}>\r\n                    <button type=\"submit\" className={css.SearchFormButton}>\r\n                        <span className={css.SearchFormButtonLabel}>Search</span>\r\n                    </button>\r\n\r\n                    <input\r\n                        className={css.SearchFormInput}\r\n                        type=\"text\"\r\n                        value={this.state.value}\r\n                        onChange={this.handleChange}\r\n                        autoComplete=\"off\"\r\n                        autoFocus\r\n                        placeholder=\"Search images and photos\"\r\n                    />\r\n                </form>\r\n            </header>    \r\n        );\r\n    };\r\n};\r\n","const getImages = (images, page) => {\r\n    const options = `key=22615360-5cbe46b430b53ed17aa097d2d&q=${images}&image_type=photo&orientation=horizontal&page=${page}&per_page=12`;\r\n    const url = `https://pixabay.com/api/?${options}`;\r\n    \r\n    return fetch(url).then(response => {\r\n        if (response.ok) {\r\n            return response.json()\r\n        }\r\n        Promise.reject(new Error(\"Нету таких фотографий\"))\r\n    })\r\n        .catch(error => console.log(error))\r\n};\r\n\r\nexport default getImages;","import React, { Component } from 'react';\nimport { toast, ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Loader from \"react-loader-spinner\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport css from \"./App.module.css\"\nimport Button from './Button/Button'\nimport ImageGallery from './ImageGallery/ImageGallery';\nimport ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\nimport Modal from './Modal/Modal';\nimport Searchbar from './Searchbar/Searchbar';\nimport getImages from '../utils/request';\n\n\nexport default class App extends Component {\n  state = {\n    largeImage: null,\n    searchImage: null,\n    gallery: [],\n    page: 1,\n    reqStatus: \"idle\"\n    // idle, pending, resolved, rejected\n  }\n\n  componentDidUpdate(_, prevState) {\n    const { searchImage, page } = this.state;\n    if (prevState.searchImage !== searchImage || prevState.page !== page) {\n      this.setState({ reqStatus: \"pending\" })\n      getImages(searchImage, page).then(({ hits }) => {\n        if (hits.length === 0) {\n          this.setState({ reqStatus: \"rejected\" })\n          toast.error('Нету таких изображений');\n        } else {\n          if (prevState && prevState.searchImage === this.state.searchImage) {\n            this.setState({ gallery: [...prevState.gallery, ...hits], reqStatus: \"resolved\" });\n            window.scrollTo({\n              top: document.documentElement.scrollHeight,\n              behavior: 'smooth',\n            });\n          } else { this.setState({ gallery: hits, reqStatus: \"resolved\" }) };      \n        }\n      })\n    }\n  };\n  \n  handleFormSubmit = (searchImage) => {\n    this.setState({ searchImage })\n  };\n\n  openModal = (url) => {\n    this.setState({\n      largeImage: url\n    })\n  };\n\n  closeModal = (e) => {\n    if (e.target === e.currentTarget) {\n      this.setState({\n        largeImage: null\n      })\n    };\n  };\n    \n  onLoadMoreClick = () => {\n  this.setState(prevState => ({\n        page: prevState.page + 1\n      })\n       )\n  \n  };\n\n  render() {\n    return (\n      <div className={css.App}>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        {this.state.reqStatus === \"resolved\" &&\n          <ImageGallery>\n          <ImageGalleryItem images={this.state.gallery} openModal={this.openModal} page={this.state.page} />\n        </ImageGallery>}\n        {this.state.reqStatus === \"resolved\" && <Button text=\"Load more\" onLoadMoreClick={this.onLoadMoreClick} />}\n        {this.state.reqStatus === \"pending\" && <Loader type=\"Circles\" color=\"#00BFFF\" height={80} width={80} />}\n        <ToastContainer autoClose={2000} />\n        {this.state.largeImage && <Modal closeModal={this.closeModal} image={this.state.largeImage} />}\n      </div>\n    );\n  };\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__ktZ__\",\"SearchForm\":\"Searchbar_SearchForm__2wzSp\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1c621\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__38GG2\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3CKU9\"};"],"sourceRoot":""}